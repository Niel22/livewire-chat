System.register(["./app-legacy-DgSxef3f.js","./transition-legacy-DSJiipK9.js","./dialog-legacy-DuBVo-wf.js","./Pagination-legacy-p-m1tZRR.js","./TextInput-legacy-D7p7RPvJ.js","./AuthenticatedLayout-legacy-DSYkHU8T.js","./useUserQuery-legacy-CKm8QEL3.js","./EyeIcon-legacy-sazfwLqg.js","./PencilIcon-legacy-D-Xk6TgS.js","./TrashIcon-legacy-BvE_9LnF.js","./app-legacy-BygksiD9.js","./use-server-handoff-complete-legacy-B_pOriOS.js","./portal-legacy-BjoDsnta.js","./chatStore-legacy-EqN4MWSq.js","./ApplicationLogo-legacy-DFhl5CzM.js","./useTranslation-legacy-CLNYKYSV.js","./DarkModeToggle-legacy-CSqvC8XN.js","./useAuthQuery-legacy-DVlpqVoj.js","./api-legacy-CEJwtiwR.js","./useQuery-legacy-D-pzfHf0.js","./useBaseQuery-legacy-CVIyBB9y.js"],function(e,a){"use strict";var s,t,r,l,d,n,c,i,g,o,x,m,u,h,y,j,f,b,p;return{setters:[e=>{s=e.r,t=e.j,r=e.H,l=e.L,d=e.a},e=>{n=e.z},e=>{c=e.L,i=e.q,g=e.z},e=>{o=e.P},e=>{x=e.T},e=>{m=e.A},e=>{u=e.e,h=e.f,y=e.g,j=e.h},e=>{f=e.F},e=>{b=e.F},e=>{p=e.F},null,null,null,null,null,null,null,null,null,null,null],execute:function(){function a({title:e,titleId:a,...t},r){return s.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":a},t),e?s.createElement("title",{id:a},e):null,s.createElement("path",{fillRule:"evenodd",d:"M4.848 2.771A49.144 49.144 0 0 1 12 2.25c2.43 0 4.817.178 7.152.52 1.978.292 3.348 2.024 3.348 3.97v6.02c0 1.946-1.37 3.678-3.348 3.97-1.94.284-3.916.455-5.922.505a.39.39 0 0 0-.266.112L8.78 21.53A.75.75 0 0 1 7.5 21v-3.955a48.842 48.842 0 0 1-2.652-.316c-1.978-.29-3.348-2.024-3.348-3.97V6.741c0-1.946 1.37-3.68 3.348-3.97Z",clipRule:"evenodd"}))}const v=s.forwardRef(a);function w({title:e,titleId:a,...t},r){return s.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":a},t),e?s.createElement("title",{id:a},e):null,s.createElement("path",{fillRule:"evenodd",d:"M7.5 6a4.5 4.5 0 1 1 9 0 4.5 4.5 0 0 1-9 0ZM3.751 20.105a8.25 8.25 0 0 1 16.498 0 .75.75 0 0 1-.437.695A18.683 18.683 0 0 1 12 22.5c-2.786 0-5.433-.608-7.812-1.7a.75.75 0 0 1-.437-.695Z",clipRule:"evenodd"}))}const N=s.forwardRef(w),k=({isOpen:e,closeModal:a,onConfirm:r,isLoading:l,user:d})=>d?t.jsx(n,{show:e,as:s.Fragment,children:t.jsxs(c,{as:"div",className:"fixed inset-0 z-10 flex items-center justify-center p-4",onClose:a,children:[t.jsx("div",{className:"fixed inset-0 bg-black/50 transition-opacity"}),t.jsx("div",{className:"fixed inset-0 flex items-center justify-center p-4",children:t.jsxs(i,{className:"w-full max-w-md rounded-xl bg-white dark:bg-gray-800 p-6 shadow-lg",children:[t.jsx(g,{className:"text-xl font-semibold text-gray-900 dark:text-gray-100 mb-4 text-center",children:"Delete User"}),t.jsxs("p",{className:"text-gray-700 dark:text-gray-300 text-center mb-6",children:["Are you sure you want to delete"," ",t.jsx("span",{className:"font-semibold",children:d.name}),"? This action cannot be undone."]}),t.jsxs("div",{className:"flex justify-end gap-3",children:[t.jsx("button",{onClick:a,className:"px-4 py-2 bg-gray-300 dark:bg-gray-700 dark:text-gray-200 rounded-lg hover:bg-gray-400",children:"Cancel"}),t.jsx("button",{onClick:r,disabled:l,className:"px-4 py-2 bg-red-600 hover:bg-red-700 text-white rounded-lg",children:l?"Deleting User...":"Delete"})]})]})})]})}):null;e("default",()=>{const[e,a]=s.useState(1),[l,n]=s.useState(""),[c,i]=s.useState(!1),[g,m]=s.useState(null),f=e=>{m(e),i(!0)},b=()=>{m(null),i(!1)},{data:p,isLoading:v,refetch:w}=u({page:e,search:l}),N=h(w,b),E=y(),L=j(w),U=e=>{d.post(route("chat.create",e))};return s.useEffect(()=>{i(!1),m(null)},[]),t.jsxs(t.Fragment,{children:[t.jsx(r,{title:"Users"}),t.jsxs("div",{className:"py-12 overflow-auto",children:[t.jsxs("div",{className:"mx-auto max-w-[80%] md:max-w-5xl space-y-4",children:[t.jsx("div",{className:"w-full flex items-center justify-end gap-2 text-sm font-medium \n                                        text-gray-700 dark:text-gray-300",children:t.jsx("button",{onClick:()=>L.mutate(),disabled:L.isPending,className:"px-4 py-2.5 rounded-md text-white \n                                    bg-emerald-600 hover:bg-emerald-700 \n                                    dark:bg-emerald-500 dark:hover:bg-emerald-600 \n                                    transition-all duration-300",children:L.isPending?"Updating...":"Update Active Status"})}),t.jsx(x,{id:"name",className:"mt-1 block w-full dark:bg-transparent dark:text-white dark:border-gray-600",value:l,onChange:e=>n(e.target.value),placeholder:"Search user by name or role...",required:!0,autoComplete:"off"}),v?[1,2,3,4].map(e=>t.jsx(A,{},e)):p?.data?.length>0?p?.data?.map(e=>t.jsx(C,{toggle:()=>{return a=e,E.mutate({id:a.id});var a},user:e,handleCreate:U,openDeleteModal:f},e.id)):t.jsx(S,{})]}),!v&&p?.data?.length>0&&t.jsx(o,{setPage:a,meta:p?.meta,links:p?.links})]}),t.jsx(k,{isOpen:c,closeModal:b,onConfirm:()=>N.mutate({id:g.id}),isLoading:N.isPending,user:g})]})}).layout=e=>t.jsx(m,{header:t.jsxs("div",{className:"w-full flex justify-between items-center",children:[t.jsx("h2",{className:"text-xl font-semibold leading-tight text-gray-800 dark:text-gray-200",children:"Users"}),t.jsxs("div",{className:"hidden md:flex items-center justify-between gap-2",children:[t.jsx(l,{href:route("user.create"),className:"py-3 px-4 bg-gray-50 text-slate-900 rounded-md text-sm",children:"Create Staff"}),t.jsx(l,{href:route("user.create-sub"),className:"py-3 px-4 bg-gray-50 text-slate-900 rounded-md text-sm",children:"Create Sub Account"})]})]}),children:e});const C=({user:e,toggle:a,handleCreate:s,openDeleteModal:r})=>t.jsxs("div",{className:"border border-gray-200 dark:border-gray-700 rounded-xl p-4 flex flex-col sm:flex-row sm:items-center sm:justify-between hover:bg-gray-50 dark:hover:bg-gray-800 transition-all gap-3",children:[t.jsxs("div",{className:"flex-1 flex flex-col md:flex-row items-center gap-2",children:[e.avatar&&t.jsx("div",{className:"chat-image avatar w-12 mx-auto md:mx-0",children:t.jsx("div",{className:"rounded-full",children:t.jsx("img",{src:e.avatar})})}),!e.avatar&&t.jsx("div",{className:"chat-image avatar avatar-placeholder w-12 mx-auto md:mx-0",children:t.jsx("div",{className:"rounded-full w-12\n                    bg-gray-400 text-gray-800 \n                    dark:bg-gray-700 dark:text-gray-100",children:t.jsx("span",{className:"text-2xl",children:e.name.substring(0,1)})})}),t.jsxs("div",{className:"text-center md:text-left",children:[t.jsx("h3",{className:"text-base truncate font-semibold text-gray-800 dark:text-gray-100",children:e.name}),t.jsx("p",{className:"text-sm capitalize font-medium text-gray-500 dark:text-gray-400",children:e.role})]})]}),t.jsxs("div",{className:"flex flex-wrap gap-2 text-sm justify-center",children:[(["staff","support","admin"].includes(e.role)||e.staff_id)&&t.jsx("input",{type:"checkbox",onChange:a,defaultChecked:e.active_status,className:"toggle bg-gray-300 dark:bg-gray-700 border-0 checked:bg-emerald-700 dark:checked:bg-emerald-700"}),t.jsx(l,{href:route("user.show",e),className:"px-3 py-1 bg-blue-600 text-white rounded hover:bg-blue-700",children:t.jsx(f,{className:"w-4 h-4"})}),t.jsx(l,{href:route("user.edit",e),className:"px-3 py-1 bg-green-600 text-white rounded hover:bg-green-700",children:t.jsx(b,{className:"w-4 h-4"})}),t.jsx("button",{onClick:()=>s(e),className:"px-3 py-1 bg-slate-600 text-white rounded hover:bg-slate-700",children:t.jsx(v,{className:"w-4 h-4"})}),t.jsx("button",{onClick:()=>r(e),className:"px-3 py-1 bg-red-600 text-white rounded hover:bg-red-700",children:t.jsx(p,{className:"w-4 h-4"})})]})]}),A=()=>t.jsxs("div",{className:"border border-gray-200 dark:border-gray-700 rounded-xl p-4 flex flex-col sm:flex-row sm:items-center sm:justify-between gap-3 animate-pulse",children:[t.jsxs("div",{className:"flex-1 flex flex-col md:flex-row items-center gap-2",children:[t.jsx("div",{className:"w-12 h-12 rounded-full bg-gray-300 dark:bg-gray-700"}),t.jsxs("div",{className:"flex flex-col gap-2 mt-2 md:mt-0",children:[t.jsx("div",{className:"h-4 w-32 bg-gray-300 dark:bg-gray-700 rounded"}),t.jsx("div",{className:"h-3 w-20 bg-gray-300 dark:bg-gray-700 rounded"})]})]}),t.jsxs("div",{className:"flex flex-wrap gap-2 text-sm justify-center",children:[t.jsx("div",{className:"w-8 h-8 bg-gray-300 dark:bg-gray-700 rounded"}),t.jsx("div",{className:"w-8 h-8 bg-gray-300 dark:bg-gray-700 rounded"}),t.jsx("div",{className:"w-8 h-8 bg-gray-300 dark:bg-gray-700 rounded"}),t.jsx("div",{className:"w-8 h-8 bg-gray-300 dark:bg-gray-700 rounded"})]})]}),S=()=>t.jsxs("div",{className:"flex flex-col items-center justify-center py-20 text-center",children:[t.jsx("div",{className:"bg-gray-100 dark:bg-gray-800 p-6 rounded-full mb-4",children:t.jsx(N,{className:"w-12 h-12 text-gray-400 dark:text-gray-500"})}),t.jsx("h2",{className:"text-lg font-semibold text-gray-800 dark:text-gray-100",children:"No Users Found"}),t.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400 mt-1",children:"There are no users available at the moment."})]})}}});
