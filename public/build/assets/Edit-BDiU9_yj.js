import{j as e,H as h,L as b}from"./app-DgysWUKN.js";import{I as d}from"./InputError-2wau1YTV.js";import{I as m}from"./InputLabel-B61AfGfJ.js";import{P as j}from"./PrimaryButton-DrZqg6oa.js";import{T as f}from"./TextAreaInput-DtsDfls6.js";import{T as p}from"./TextInput-ysBPdsCZ.js";import{A as y}from"./AuthenticatedLayout-Dp4_EsP8.js";import{a as v}from"./useGroupQuery-B7mRwScr.js";import{g as k}from"./groupRequest-COzgHZeI.js";import{u as N,n as w}from"./joi-CA_VZ8aY.js";/* empty css            */import"./chatStore-Cfb37Rj8.js";import"./ApplicationLogo-BC3b-o4H.js";import"./useTranslation-D4JPGibQ.js";import"./portal-Bp18U6eq.js";import"./use-server-handoff-complete-YbaoeMyU.js";import"./DarkModeToggle-OTcSg6aI.js";import"./transition-E698jRxK.js";import"./useAuthQuery-Dvludyj6.js";import"./api-D9yEnfen.js";import"./useQuery-Bdm4F9LA.js";import"./useBaseQuery-DOgIe2Ew.js";const G=({group:a,staffs:x})=>{var l,n,c;const o=v(),{register:s,handleSubmit:u,formState:{errors:i}}=N({resolver:w(k),defaultValues:{name:a.name,description:a.description,admin_id:a.admin_id,avatar:null,member:a.member}}),g=r=>{const t=new FormData;t.append("name",r.name),t.append("description",r.description),t.append("member",r.member),t.append("admin_id",r.admin_id),t.append("_method","PATCH"),r.avatar&&r.avatar.length>0&&t.append("avatar",r.avatar[0]),o.mutate({id:a.id,payload:t})};return e.jsxs(e.Fragment,{children:[e.jsx(h,{title:"Edit Group"}),e.jsx("div",{className:"py-12 overflow-auto",children:e.jsx("div",{className:"mx-auto max-w-7xl space-y-6 sm:px-6 lg:px-8",children:e.jsx("div",{className:"dark:bg-gray-800 bg-white p-4 shadow sm:rounded-lg sm:p-8",children:e.jsxs("section",{className:"dark:bg-gray-800 bg-white",children:[e.jsxs("header",{children:[e.jsx("h2",{className:"text-lg font-medium text-gray-900 dark:text-gray-200",children:"Edit Group"}),e.jsx("p",{className:"mt-1 text-sm text-gray-600 dark:text-gray-400",children:"Update group by filling in the information below."})]}),e.jsxs("form",{onSubmit:u(g),className:"mt-6 space-y-6",children:[e.jsx("div",{className:"relative",children:e.jsx("div",{className:"w-32 h-32 rounded-full overflow-hidden ring-4 ring-gray-200 dark:ring-slate-700 shadow-md",children:e.jsx("img",{src:"/storage/".concat(a.avatar),alt:"Group",className:"w-full h-full object-cover"})})}),e.jsxs("div",{className:"flex-1",children:[e.jsx(m,{htmlFor:"avatar",value:"Group Picture",className:"text-gray-700 dark:text-gray-200 font-medium"}),e.jsx("label",{htmlFor:"avatar",className:"mt-2 inline-flex items-center px-4 py-2 bg-blue-600 dark:bg-white text-white dark:text-slate-900 text-sm font-medium rounded-lg shadow cursor-pointer transition hover:bg-blue-700 dark:hover:bg-gray-200",children:"Upload Group Picture"}),e.jsx("input",{id:"avatar",type:"file",accept:"image/*",className:"hidden",...s("avatar")}),e.jsx("p",{className:"mt-2 text-xs text-gray-500 dark:text-gray-400",children:"Please upload a square picture (1:1 ratio works best)"}),e.jsx(d,{className:"mt-2 dark:text-red-400",message:(l=i.avatar)==null?void 0:l.message})]}),e.jsxs("div",{children:[e.jsx(m,{htmlFor:"name",value:"Group Name"}),e.jsx(p,{id:"name",className:"mt-1 block w-full dark:bg-gray-700 dark:text-gray-200 dark:border-gray-600",...s("name"),required:!0,autoComplete:"off"}),e.jsx(d,{className:"mt-2 dark:text-red-400",message:(n=i.name)==null?void 0:n.message})]}),e.jsxs("div",{children:[e.jsx(m,{htmlFor:"description",value:"Description"}),e.jsx(f,{id:"description",className:"mt-1 block w-full dark:bg-gray-700 dark:text-gray-200 dark:border-gray-600",...s("description"),required:!0,rows:4}),e.jsx(d,{className:"mt-2 dark:text-red-400",message:(c=i.description)==null?void 0:c.message})]}),e.jsxs("div",{children:[e.jsx(m,{htmlFor:"admin",value:"Select Admin"}),e.jsx("select",{id:"admin",...s("admin_id"),className:"mt-1 block w-full dark:bg-gray-700 dark:text-gray-200 dark:border-gray-600 rounded-md border-gray-300 focus:ring focus:ring-indigo-500 focus:border-indigo-500",required:!0,children:x.map(r=>e.jsx("option",{value:r.id,children:r.name},r.id))}),e.jsx(d,{className:"mt-2 dark:text-red-400",message:i.admin_id})]}),e.jsxs("div",{children:[e.jsx(m,{htmlFor:"member",value:"Group Members Number"}),e.jsx(p,{id:"member",className:"mt-1 block w-full dark:bg-gray-700 dark:text-gray-200 dark:border-gray-600",...s("member"),required:!0,type:"number",autoComplete:"off"}),e.jsx(d,{className:"mt-2 dark:text-red-400",message:i.name})]}),e.jsx("div",{className:"flex items-center gap-4",children:e.jsx(j,{disabled:o.isPending,children:"Update Group"})})]})]})})})})]})};G.layout=a=>e.jsx(y,{header:e.jsxs("div",{className:"w-full flex justify-between items-center",children:[e.jsx("h2",{className:"text-xl font-semibold leading-tight text-gray-800 dark:text-gray-200",children:"Edit Group"}),e.jsx(b,{href:route("group.list"),className:"py-3 px-4 bg-gray-50 text-slate-900 rounded-md text-sm",children:"Back"})]}),children:a});export{G as default};
