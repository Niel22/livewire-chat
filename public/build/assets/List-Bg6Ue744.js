import{j as e,r as l,a as c,H as g,L as d}from"./app-BTQ9y5nc.js";import{z as h}from"./transition-Be0bYj6n.js";import{L as u,q as p,z as f}from"./dialog-BYKhMYJ3.js";import{A as j}from"./AuthenticatedLayout-DtrirnDJ.js";import"./index-Cae-Z9JE.js";import"./UserAvatar-DOPr_u4J.js";import"./ApplicationLogo-CxIszt-I.js";import"./DarkModeToggle-ZDz4sk8r.js";const y=({isOpen:s,closeModal:r,user:a})=>{if(!a)return null;const n=()=>{c.delete(route("user.destroy",a),{onSuccess:()=>r()})};return e.jsx(h,{show:s,as:l.Fragment,children:e.jsxs(u,{as:"div",className:"fixed inset-0 z-10 flex items-center justify-center p-4",onClose:r,children:[e.jsx("div",{className:"fixed inset-0 bg-black/50 transition-opacity"}),e.jsx("div",{className:"fixed inset-0 flex items-center justify-center p-4",children:e.jsxs(p,{className:"w-full max-w-md rounded-xl bg-white dark:bg-gray-800 p-6 shadow-lg",children:[e.jsx(f,{className:"text-xl font-semibold text-gray-900 dark:text-gray-100 mb-4 text-center",children:"Delete User"}),e.jsxs("p",{className:"text-gray-700 dark:text-gray-300 text-center mb-6",children:["Are you sure you want to delete"," ",e.jsx("span",{className:"font-semibold",children:a.name}),"? This action cannot be undone."]}),e.jsxs("div",{className:"flex justify-end gap-3",children:[e.jsx("button",{onClick:r,className:"px-4 py-2 bg-gray-300 dark:bg-gray-700 dark:text-gray-200 rounded-lg hover:bg-gray-400",children:"Cancel"}),e.jsx("button",{onClick:n,className:"px-4 py-2 bg-red-600 hover:bg-red-700 text-white rounded-lg",children:"Delete"})]})]})})]})})},b=({users:s})=>{const[r,a]=l.useState(!1),[n,i]=l.useState(null),o=t=>{c.post(route("chat.create",t))},x=t=>{i(t),a(!0)},m=()=>{i(null),a(!1)};return l.useEffect(()=>{a(!1),i(null)},[]),e.jsxs(e.Fragment,{children:[e.jsx(g,{title:"Users"}),e.jsx("div",{className:"py-12 overflow-auto",children:e.jsx("div",{className:"mx-auto max-w-7xl grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-6 px-6",children:s?.data.map(t=>e.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl shadow p-6 gap-2 flex flex-col justify-center items-center",children:[t.avatar&&e.jsx("div",{className:"chat-image avatar w-20 mx-auto",children:e.jsx("div",{className:"rounded-full",children:e.jsx("img",{src:t.avatar})})}),!t.avatar&&e.jsx("div",{className:"chat-image avatar avatar-placeholder w-20 mx-auto",children:e.jsx("div",{className:`rounded-full w-20
                                bg-gray-400 text-gray-800 
                                dark:bg-gray-700 dark:text-gray-100`,children:e.jsx("span",{className:"text-2xl",children:t.name.substring(0,1)})})}),e.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-gray-100",children:t.name}),e.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400 mb-4",children:t.role||"No role"}),e.jsxs("div",{className:"flex flex-wrap gap-2 justify-center",children:[e.jsx(d,{href:route("user.show",t),className:"px-3 py-1 bg-blue-600 text-white rounded hover:bg-blue-700",children:"View"}),e.jsx(d,{href:route("user.edit",t),className:"px-3 py-1 bg-green-600 text-white rounded hover:bg-green-700",children:"Edit"}),e.jsx("button",{onClick:()=>o(t),className:"px-3 py-1 bg-slate-600 text-white rounded hover:bg-slate-700",children:"Message"}),e.jsx("button",{onClick:()=>x(t),className:"px-3 py-1 bg-red-600 text-white rounded hover:bg-red-700",children:"Delete"})]})]},t.id))})}),e.jsx(y,{isOpen:r,closeModal:m,user:n})]})};b.layout=s=>e.jsx(j,{header:e.jsxs("div",{className:"w-full flex justify-between items-center",children:[e.jsx("h2",{className:"text-xl font-semibold leading-tight text-gray-800 dark:text-gray-200",children:"Users"}),e.jsxs("div",{className:"flex items-center justify-between gap-2",children:[e.jsx(d,{href:route("user.create"),className:"py-3 px-4 bg-gray-50 text-slate-900 rounded-md text-sm",children:"Create Staff"}),e.jsx(d,{href:route("user.create-sub"),className:"py-3 px-4 bg-gray-50 text-slate-900 rounded-md text-sm",children:"Create Sub Account"})]})]}),children:s});export{b as default};
