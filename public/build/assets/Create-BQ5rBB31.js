import{j as e,H as g,L as h}from"./app-DgysWUKN.js";import{I as m}from"./InputError-2wau1YTV.js";import{I as i}from"./InputLabel-B61AfGfJ.js";import{P as b}from"./PrimaryButton-DrZqg6oa.js";import{T as j}from"./TextAreaInput-DtsDfls6.js";import{T as p}from"./TextInput-ysBPdsCZ.js";import{A as f}from"./AuthenticatedLayout-Dp4_EsP8.js";import{u as y}from"./useGroupQuery-B7mRwScr.js";import{g as k}from"./groupRequest-COzgHZeI.js";import{u as v,n as N}from"./joi-CA_VZ8aY.js";/* empty css            */import"./chatStore-Cfb37Rj8.js";import"./ApplicationLogo-BC3b-o4H.js";import"./useTranslation-D4JPGibQ.js";import"./portal-Bp18U6eq.js";import"./use-server-handoff-complete-YbaoeMyU.js";import"./DarkModeToggle-OTcSg6aI.js";import"./transition-E698jRxK.js";import"./useAuthQuery-Dvludyj6.js";import"./api-D9yEnfen.js";import"./useQuery-Bdm4F9LA.js";import"./useBaseQuery-DOgIe2Ew.js";const w=({staffs:d})=>{var l,n,c;const o=y(),{register:t,handleSubmit:x,formState:{errors:s}}=v({resolver:N(k)}),u=r=>{const a=new FormData;a.append("name",r.name),a.append("description",r.description),a.append("member",r.member),a.append("admin_id",r.admin_id),r.avatar&&r.avatar.length>0&&a.append("avatar",r.avatar[0]),o.mutate(a)};return e.jsxs(e.Fragment,{children:[e.jsx(g,{title:"Create Group"}),e.jsx("div",{className:"py-12 overflow-auto",children:e.jsx("div",{className:"mx-auto max-w-7xl space-y-6 sm:px-6 lg:px-8",children:e.jsx("div",{className:"dark:bg-gray-800 bg-white p-4 shadow sm:rounded-lg sm:p-8",children:e.jsxs("section",{className:"dark:bg-gray-800 bg-white",children:[e.jsxs("header",{children:[e.jsx("h2",{className:"text-lg font-medium text-gray-900 dark:text-gray-200",children:"Create New Group"}),e.jsx("p",{className:"mt-1 text-sm text-gray-600 dark:text-gray-400",children:"Add a new group by filling in the information below."})]}),e.jsxs("form",{onSubmit:x(u),className:"mt-6 space-y-6",children:[e.jsxs("div",{className:"flex-1",children:[e.jsx(i,{htmlFor:"avatar",value:"Group Picture",className:"text-gray-700 dark:text-gray-200 font-medium"}),e.jsx("label",{htmlFor:"avatar",className:"mt-2 inline-flex items-center px-4 py-2 bg-blue-600 dark:bg-white text-white dark:text-slate-900 text-sm font-medium rounded-lg shadow cursor-pointer transition hover:bg-blue-700 dark:hover:bg-gray-200",children:"Upload Group Picture"}),e.jsx("input",{id:"avatar",type:"file",accept:"image/*",className:"hidden",...t("avatar")}),e.jsx("p",{className:"mt-2 text-xs text-gray-500 dark:text-gray-400",children:"Please upload a square picture (1:1 ratio works best)"}),e.jsx(m,{className:"mt-2 dark:text-red-400",message:(l=s.avatar)==null?void 0:l.messages})]}),e.jsxs("div",{children:[e.jsx(i,{htmlFor:"name",value:"Group Name"}),e.jsx(p,{id:"name",className:"mt-1 block w-full dark:bg-gray-700 dark:text-gray-200 dark:border-gray-600",...t("name"),required:!0,autoComplete:"off"}),e.jsx(m,{className:"mt-2 dark:text-red-400",message:(n=s.name)==null?void 0:n.message})]}),e.jsxs("div",{children:[e.jsx(i,{htmlFor:"description",value:"Description"}),e.jsx(j,{id:"description",className:"mt-1 block w-full dark:bg-gray-700 dark:text-gray-200 dark:border-gray-600",...t("description"),required:!0,rows:4}),e.jsx(m,{className:"mt-2 dark:text-red-400",message:(c=s.description)==null?void 0:c.message})]}),e.jsxs("div",{children:[e.jsx(i,{htmlFor:"admin",value:"Select Admin"}),e.jsx("select",{id:"admin",...t("admin_id"),className:"mt-1 block w-full dark:bg-gray-700 dark:text-gray-200 dark:border-gray-600 rounded-md border-gray-300 focus:ring focus:ring-indigo-500 focus:border-indigo-500",required:!0,children:d.map(r=>e.jsx("option",{value:r.id,children:r.name},r.id))}),e.jsx(m,{className:"mt-2 dark:text-red-400",message:s.admin_id})]}),e.jsxs("div",{children:[e.jsx(i,{htmlFor:"member",value:"Group Members Number"}),e.jsx(p,{id:"member",className:"mt-1 block w-full dark:bg-gray-700 dark:text-gray-200 dark:border-gray-600",...t("member"),required:!0,type:"number",autoComplete:"off"}),e.jsx(m,{className:"mt-2 dark:text-red-400",message:s.name})]}),e.jsx("div",{className:"flex items-center gap-4",children:e.jsx(b,{disabled:o.isPending,children:"Create Group"})})]})]})})})})]})};w.layout=d=>e.jsx(f,{header:e.jsxs("div",{className:"w-full flex justify-between items-center",children:[e.jsx("h2",{className:"text-xl font-semibold leading-tight text-gray-800 dark:text-gray-200",children:"Create Group"}),e.jsx(h,{href:route("group.list"),className:"py-3 px-4 bg-gray-50 text-slate-900 rounded-md text-sm",children:"Back"})]}),children:d});export{w as default};
