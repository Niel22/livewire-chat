System.register(["./app-legacy-DgSxef3f.js","./use-server-handoff-complete-legacy-B_pOriOS.js"],function(e,n){"use strict";var t,r,l,i,u,s,a,o,c,d,v,f,h,m,p,b,g,E,T,w;return{setters:[e=>{t=e.r,r=e.b},e=>{l=e.n,i=e.K,u=e.y,s=e.l,a=e.a,o=e.i,c=e.o,d=e.L,v=e.O,f=e.b,h=e.p,m=e.A,p=e.u,b=e.x,g=e.m,E=e.R,T=e.f,w=e.c}],execute:function(){function n(){let e=t.useRef(!1);return l(()=>(e.current=!0,()=>{e.current=!1}),[]),e}function C(e){var n;return!!(e.enter||e.enterFrom||e.enterTo||e.leave||e.leaveFrom||e.leaveTo)||(null!=(n=e.as)?n:y)!==t.Fragment||1===r.Children.count(e.children)}e("f",n);let R=t.createContext(null);R.displayName="TransitionContext";var P=(e=>(e.Visible="visible",e.Hidden="hidden",e))(P||{});let x=t.createContext(null);function F(e){return"children"in e?F(e.children):e.current.filter(({el:e})=>null!==e.current).filter(({state:e})=>"visible"===e).length>0}function S(e,r){let l=f(e),i=t.useRef([]),u=n(),s=h(),a=c((e,n=m.Hidden)=>{let t=i.current.findIndex(({el:n})=>n===e);-1!==t&&(p(n,{[m.Unmount](){i.current.splice(t,1)},[m.Hidden](){i.current[t].state="hidden"}}),s.microTask(()=>{var e;!F(i)&&u.current&&(null==(e=l.current)||e.call(l))}))}),o=c(e=>{let n=i.current.find(({el:n})=>n===e);return n?"visible"!==n.state&&(n.state="visible"):i.current.push({el:e,state:"visible"}),()=>a(e,m.Unmount)}),d=t.useRef([]),v=t.useRef(Promise.resolve()),b=t.useRef({enter:[],leave:[]}),g=c((e,n,t)=>{d.current.splice(0),r&&(r.chains.current[n]=r.chains.current[n].filter(([n])=>n!==e)),null==r||r.chains.current[n].push([e,new Promise(e=>{d.current.push(e)})]),null==r||r.chains.current[n].push([e,new Promise(e=>{Promise.all(b.current[n].map(([e,n])=>n)).then(()=>e())})]),"enter"===n?v.current=v.current.then(()=>null==r?void 0:r.wait.current).then(()=>t(n)):t(n)}),E=c((e,n,t)=>{Promise.all(b.current[n].splice(0).map(([e,n])=>n)).then(()=>{var e;null==(e=d.current.shift())||e()}).then(()=>t(n))});return t.useMemo(()=>({children:i,register:o,unregister:a,onStart:g,onStop:E,wait:v,chains:b}),[o,a,i,g,E,b,v])}x.displayName="NestingContext";let y=t.Fragment,O=v.RenderStrategy,H=i(function(e,n){let{show:i,appear:v=!1,unmount:f=!0,...h}=e,m=t.useRef(null),p=C(e),b=u(...p?[m,n]:null===n?[]:[n]);s();let g=a();if(void 0===i&&null!==g&&(i=(g&o.Open)===o.Open),void 0===i)throw new Error("A <Transition /> is used but it is missing a `show={true | false}` prop.");let[E,T]=t.useState(i?"visible":"hidden"),w=S(()=>{i||T("hidden")}),[P,y]=t.useState(!0),H=t.useRef([i]);l(()=>{!1!==P&&H.current[H.current.length-1]!==i&&(H.current.push(i),y(!1))},[H,i]);let N=t.useMemo(()=>({show:i,appear:v,initial:P}),[i,v,P]);l(()=>{i?T("visible"):!F(w)&&null!==m.current&&T("hidden")},[i,w]);let A={unmount:f},j=c(()=>{var n;P&&y(!1),null==(n=e.beforeEnter)||n.call(e)}),D=c(()=>{var n;P&&y(!1),null==(n=e.beforeLeave)||n.call(e)}),M=d();return r.createElement(x.Provider,{value:w},r.createElement(R.Provider,{value:N},M({ourProps:{...A,as:t.Fragment,children:r.createElement(L,{ref:b,...A,...h,beforeEnter:j,beforeLeave:D})},theirProps:{},defaultTag:t.Fragment,features:O,visible:"visible"===E,name:"Transition"})))}),L=i(function(e,n){var i,a;let{transition:v=!0,beforeEnter:f,afterEnter:h,beforeLeave:P,afterLeave:H,enter:L,enterFrom:N,enterTo:A,entered:j,leave:D,leaveFrom:M,leaveTo:U,...k}=e,[z,I]=t.useState(null),K=t.useRef(null),V=C(e),q=u(...V?[K,n,I]:null===n?[]:[n]),B=null==(i=k.unmount)||i?m.Unmount:m.Hidden,{show:G,appear:J,initial:Q}=function(){let e=t.useContext(R);if(null===e)throw new Error("A <Transition.Child /> is used but it is missing a parent <Transition /> or <Transition.Root />.");return e}(),[W,X]=t.useState(G?"visible":"hidden"),Y=function(){let e=t.useContext(x);if(null===e)throw new Error("A <Transition.Child /> is used but it is missing a parent <Transition /> or <Transition.Root />.");return e}(),{register:Z,unregister:$}=Y;l(()=>Z(K),[Z,K]),l(()=>{if(B===m.Hidden&&K.current)return G&&"visible"!==W?void X("visible"):p(W,{hidden:()=>$(K),visible:()=>Z(K)})},[W,K,Z,$,G,B]);let _=s();l(()=>{if(V&&_&&"visible"===W&&null===K.current)throw new Error("Did you forget to passthrough the `ref` to the actual DOM node?")},[K,W,_,V]);let ee=Q&&!J,ne=J&&G&&Q,te=t.useRef(!1),re=S(()=>{te.current||(X("hidden"),$(K))},Y),le=c(e=>{te.current=!0;let n=e?"enter":"leave";re.onStart(K,n,e=>{"enter"===e?null==f||f():"leave"===e&&(null==P||P())})}),ie=c(e=>{let n=e?"enter":"leave";te.current=!1,re.onStop(K,n,e=>{"enter"===e?null==h||h():"leave"===e&&(null==H||H())}),"leave"===n&&!F(re)&&(X("hidden"),$(K))});t.useEffect(()=>{V&&v||(le(G),ie(G))},[G,V,v]);let ue=!(!v||!V||!_||ee),[,se]=b(ue,z,G,{start:le,end:ie}),ae=g({ref:q,className:(null==(a=T(k.className,ne&&L,ne&&N,se.enter&&L,se.enter&&se.closed&&N,se.enter&&!se.closed&&A,se.leave&&D,se.leave&&!se.closed&&M,se.leave&&se.closed&&U,!se.transition&&G&&j))?void 0:a.trim())||void 0,...E(se)}),oe=0;"visible"===W&&(oe|=o.Open),"hidden"===W&&(oe|=o.Closed),G&&"hidden"===W&&(oe|=o.Opening),!G&&"visible"===W&&(oe|=o.Closing);let ce=d();return r.createElement(x.Provider,{value:re},r.createElement(w,{value:oe},ce({ourProps:ae,theirProps:k,defaultTag:y,features:O,visible:"visible"===W,name:"Transition.Child"})))}),N=i(function(e,n){let l=null!==t.useContext(R),i=null!==a();return r.createElement(r.Fragment,null,!l&&i?r.createElement(H,{ref:n,...e}):r.createElement(L,{ref:n,...e}))}),A=Object.assign(H,{Child:N,Root:H});e({F:N,z:A})}}});
