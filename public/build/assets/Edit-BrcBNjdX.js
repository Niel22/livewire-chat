import{j as e,H as B,L as H}from"./app-BIvaOuEf.js";import{I as s}from"./InputError-DMTHiljA.js";import{I as r}from"./InputLabel-C7oMekZq.js";import{P as x}from"./PrimaryButton-CjOu6GW1.js";import{T as t}from"./TextInput-CMamx1LG.js";import{A as O}from"./AuthenticatedLayout-kJeZUxmd.js";import{b as T,c as V,d as q}from"./useUserQuery-DYcb1bUU.js";import{u as J,p as z,b as G}from"./userRequest-J2wua36K.js";import{u as c,n as g}from"./joi-UAb-Mkg8.js";/* empty css            */import"./chatStore-CKiPf-2p.js";import"./ApplicationLogo-B5ycJy_Q.js";import"./useTranslation-CQt-ezys.js";import"./portal-D3VGp8MH.js";import"./use-server-handoff-complete-DQh3gNR0.js";import"./DarkModeToggle-x_Bp1bEo.js";import"./transition-rDhN1b9O.js";import"./useAuthQuery-fQ36WGNj.js";import"./api-VUh7n_q7.js";import"./useQuery-AWEAS7Ki.js";import"./useBaseQuery-DcobsDej.js";const K=({user:a})=>{var j,y,b,k,f,N,v,w,U,S,_,P,D;const i=T(),{register:o,handleSubmit:E,formState:{errors:n}}=c({resolver:g(J),defaultValues:{name:a.name,email:a.email,role:a.role}}),F=d=>i.mutate({id:a.id,payload:d}),{register:h,handleSubmit:C,reset:I,formState:{errors:p}}=c({resolver:g(z)}),u=V(I),M=d=>u.mutate({id:a.id,payload:d}),{register:m,handleSubmit:R,formState:{errors:l}}=c({resolver:g(G),defaultValues:{name:(j=a.details)==null?void 0:j.name,email:(y=a.details)==null?void 0:y.email,date_joined:(b=a.details)==null?void 0:b.date_joined,payment_method:(k=a.details)==null?void 0:k.payment_method}}),A=q(),L=d=>A.mutate({id:a.id,payload:d});return e.jsxs(e.Fragment,{children:[e.jsx(B,{title:"Edit User"}),e.jsx("div",{className:"py-12 overflow-auto",children:e.jsxs("div",{className:"mx-auto max-w-7xl space-y-6 sm:px-6 lg:px-8",children:[e.jsx("div",{className:"dark:bg-gray-800 bg-white p-4 shadow sm:rounded-lg sm:p-8",children:e.jsxs("section",{children:[e.jsxs("header",{children:[e.jsx("h2",{className:"text-lg font-medium text-gray-900 dark:text-gray-200",children:"Edit User"}),e.jsx("p",{className:"mt-1 text-sm text-gray-600 dark:text-gray-400",children:"Update this userâ€™s basic information."})]}),e.jsxs("form",{onSubmit:E(F),className:"mt-6 space-y-6",children:[e.jsxs("div",{children:[e.jsx(r,{htmlFor:"name",value:"Name"}),e.jsx(t,{id:"name",className:"mt-1 block w-full dark:bg-gray-700 dark:text-gray-200 dark:border-gray-600",...o("name"),required:!0}),e.jsx(s,{className:"mt-2 dark:text-red-400",message:(f=n.name)==null?void 0:f.message})]}),e.jsxs("div",{children:[e.jsx(r,{htmlFor:"email",value:"Email (readonly)"}),e.jsx(t,{id:"user-email",type:"email",className:"mt-1 block w-full bg-gray-100 dark:bg-gray-700 text-gray-500 dark:text-gray-400 border-gray-300 dark:border-gray-600",...o("email"),readOnly:!0}),e.jsx(s,{className:"mt-2 dark:text-red-400",message:(N=n.email)==null?void 0:N.message})]}),e.jsxs("div",{children:[e.jsx(r,{htmlFor:"role",value:"Role"}),e.jsxs("select",{id:"role",readOnly:!0,disabled:!0,className:"mt-1 block w-full dark:bg-gray-700 dark:text-gray-200 dark:border-gray-600 border-gray-300 rounded-md",...o("role"),children:[e.jsx("option",{value:"admin",children:"Admin"}),e.jsx("option",{value:"staff",children:"Staff"}),e.jsx("option",{value:"sub_account",children:"Sub Account"}),e.jsx("option",{value:"member",children:"Member"})]}),e.jsx(s,{className:"mt-2 dark:text-red-400",message:(v=n.role)==null?void 0:v.message})]}),e.jsx("div",{className:"flex items-center gap-4",children:e.jsx(x,{disabled:i.isPending,children:"Save Changes"})})]})]})}),a.role==="member"&&e.jsx("div",{className:"dark:bg-gray-800 bg-white p-4 shadow sm:rounded-lg sm:p-8",children:e.jsxs("section",{children:[e.jsxs("header",{children:[e.jsx("h2",{className:"text-lg font-medium text-gray-900 dark:text-gray-200",children:"User Details"}),e.jsx("p",{className:"mt-1 text-sm text-gray-600 dark:text-gray-400",children:"Save extra information for this user. Stored in a separate table."})]}),e.jsxs("form",{onSubmit:R(L),className:"mt-6 space-y-6",children:[e.jsxs("div",{children:[e.jsx(r,{htmlFor:"name",value:"Name"}),e.jsx(t,{id:"user_name",className:"mt-1 block w-full dark:bg-gray-700 dark:text-gray-200 dark:border-gray-600",...m("name")}),e.jsx(s,{className:"mt-2 dark:text-red-400",message:(w=l.name)==null?void 0:w.message})]}),e.jsxs("div",{children:[e.jsx(r,{htmlFor:"date_joined",value:"Date Joined"}),e.jsx(t,{id:"date_joined",type:"date",className:"mt-1 block w-full dark:bg-gray-700 dark:text-gray-200 dark:border-gray-600",...m("date_joined")}),e.jsx(s,{className:"mt-2 dark:text-red-400",message:(U=l.date_joined)==null?void 0:U.message})]}),e.jsxs("div",{children:[e.jsx(r,{htmlFor:"payment_method",value:"Payment Method"}),e.jsx(t,{id:"payment_method",className:"mt-1 block w-full dark:bg-gray-700 dark:text-gray-200 dark:border-gray-600",...m("payment_method")}),e.jsx(s,{className:"mt-2 dark:text-red-400",message:(S=l.payment_method)==null?void 0:S.message})]}),e.jsxs("div",{children:[e.jsx(r,{htmlFor:"email",value:"Email"}),e.jsx(t,{id:"email",type:"email",className:"mt-1 block w-full dark:bg-gray-700 dark:text-gray-200 dark:border-gray-600",...m("email")}),e.jsx(s,{className:"mt-2 dark:text-red-400",message:(_=l.email)==null?void 0:_.message})]}),e.jsx("div",{className:"flex items-center gap-4",children:e.jsx(x,{disabled:i.isPending,children:"Save Details"})})]})]})}),e.jsx("div",{className:"dark:bg-gray-800 bg-white p-4 shadow sm:rounded-lg sm:p-8",children:e.jsxs("section",{children:[e.jsxs("header",{children:[e.jsxs("h2",{className:"text-lg font-medium text-gray-900 dark:text-gray-200",children:[a.role==="member"?"Client":"Staff"," Password"]}),e.jsx("p",{className:"mt-1 text-sm text-gray-600 dark:text-gray-400",children:"Change Cients Password."})]}),e.jsxs("form",{onSubmit:C(M),className:"mt-6 space-y-6",children:[e.jsxs("div",{children:[e.jsx(r,{htmlFor:"Password",value:"Password"}),e.jsx(t,{id:"password",className:"mt-1 block w-full dark:bg-gray-700 dark:text-gray-200 dark:border-gray-600",...h("password")}),e.jsx(s,{className:"mt-2 dark:text-red-400",message:(P=p.password)==null?void 0:P.message})]}),e.jsxs("div",{children:[e.jsx(r,{htmlFor:"Comfirm Password",value:"Comfirm Password"}),e.jsx(t,{id:"password_confirmation",className:"mt-1 block w-full dark:bg-gray-700 dark:text-gray-200 dark:border-gray-600",...h("password_confirmation")}),e.jsx(s,{className:"mt-2 dark:text-red-400",message:(D=p.password_confirmation)==null?void 0:D.message})]}),e.jsx("div",{className:"flex items-center gap-4",children:e.jsx(x,{disabled:u.isPending,children:"Save Details"})})]})]})})]})})]})};K.layout=a=>e.jsx(O,{header:e.jsxs("div",{className:"w-full flex justify-between items-center",children:[e.jsx("h2",{className:"text-xl font-semibold leading-tight text-gray-800 dark:text-gray-200",children:"Edit User"}),e.jsx(H,{href:route("user.list"),className:"py-3 px-4 bg-gray-50 text-slate-900 rounded-md text-sm",children:"Back"})]}),children:a});export{K as default};
