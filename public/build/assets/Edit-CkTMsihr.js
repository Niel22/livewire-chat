import{u as o,j as e,H as p,L as v}from"./app-BvQYeIn3.js";import{I as s}from"./InputError-DWO2H0uN.js";import{I as l}from"./InputLabel-C12SJTnR.js";import{P as x}from"./PrimaryButton-CueCc6iJ.js";import{T as d}from"./TextInput-CN50cz80.js";import{A as k}from"./AuthenticatedLayout-3QVh1GRv.js";import{z as c}from"./transition-CYAHYTPG.js";import"./UserAvatar-CGt-wEx4.js";import"./ApplicationLogo-b-pJ5v4L.js";import"./DarkModeToggle-DTuyR8R0.js";const b=({user:r})=>{const{data:m,setData:n,patch:g,errors:i,processing:h,recentlySuccessful:u}=o({name:r.name,email:r.email,role:r.role}),a=o({name:r.details?.name??"",date_joined:r.details?.date_joined??"",payment_method:r.details?.payment_method??"",email:r.details?.email??""}),y=t=>{t.preventDefault(),g(route("user.update",r))},j=t=>{t.preventDefault(),a.patch(route("user.user-details",r))};return e.jsxs(e.Fragment,{children:[e.jsx(p,{title:"Edit User"}),e.jsx("div",{className:"py-12 overflow-auto",children:e.jsxs("div",{className:"mx-auto max-w-7xl space-y-6 sm:px-6 lg:px-8",children:[e.jsx("div",{className:"dark:bg-gray-800 bg-white p-4 shadow sm:rounded-lg sm:p-8",children:e.jsxs("section",{children:[e.jsxs("header",{children:[e.jsx("h2",{className:"text-lg font-medium text-gray-900 dark:text-gray-200",children:"Edit User"}),e.jsx("p",{className:"mt-1 text-sm text-gray-600 dark:text-gray-400",children:"Update this userâ€™s basic information."})]}),e.jsxs("form",{onSubmit:y,className:"mt-6 space-y-6",children:[e.jsxs("div",{children:[e.jsx(l,{htmlFor:"name",value:"Name"}),e.jsx(d,{id:"name",className:"mt-1 block w-full dark:bg-gray-700 dark:text-gray-200 dark:border-gray-600",value:m.name,onChange:t=>n("name",t.target.value),required:!0}),e.jsx(s,{className:"mt-2 dark:text-red-400",message:i.name})]}),e.jsxs("div",{children:[e.jsx(l,{htmlFor:"email",value:"Email (readonly)"}),e.jsx(d,{id:"email",type:"email",className:"mt-1 block w-full bg-gray-100 dark:bg-gray-700 text-gray-500 dark:text-gray-400 border-gray-300 dark:border-gray-600",value:m.email,readOnly:!0}),e.jsx(s,{className:"mt-2 dark:text-red-400",message:i.email})]}),e.jsxs("div",{children:[e.jsx(l,{htmlFor:"role",value:"Role"}),e.jsxs("select",{id:"role",readOnly:!0,disabled:!0,className:"mt-1 block w-full dark:bg-gray-700 dark:text-gray-200 dark:border-gray-600 border-gray-300 rounded-md",value:m.role,onChange:t=>n("role",t.target.value),children:[e.jsx("option",{value:"admin",children:"Admin"}),e.jsx("option",{value:"staff",children:"Staff"}),e.jsx("option",{value:"sub_account",children:"Sub Account"})]}),e.jsx(s,{className:"mt-2 dark:text-red-400",message:i.role})]}),e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx(x,{disabled:h,children:"Save Changes"}),e.jsx(c,{show:u,enter:"transition ease-in-out",enterFrom:"opacity-0",leave:"transition ease-in-out",leaveTo:"opacity-0",children:e.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Saved."})})]})]})]})}),r.role==="member"&&e.jsx("div",{className:"dark:bg-gray-800 bg-white p-4 shadow sm:rounded-lg sm:p-8",children:e.jsxs("section",{children:[e.jsxs("header",{children:[e.jsx("h2",{className:"text-lg font-medium text-gray-900 dark:text-gray-200",children:"User Details"}),e.jsx("p",{className:"mt-1 text-sm text-gray-600 dark:text-gray-400",children:"Save extra information for this user. Stored in a separate table."})]}),e.jsxs("form",{onSubmit:j,className:"mt-6 space-y-6",children:[e.jsxs("div",{children:[e.jsx(l,{htmlFor:"name",value:"Name"}),e.jsx(d,{id:"name",className:"mt-1 block w-full dark:bg-gray-700 dark:text-gray-200 dark:border-gray-600",value:a.data.name,onChange:t=>a.setData("name",t.target.value)}),e.jsx(s,{className:"mt-2 dark:text-red-400",message:a.errors.name})]}),e.jsxs("div",{children:[e.jsx(l,{htmlFor:"date_joined",value:"Date Joined"}),e.jsx(d,{id:"date_joined",type:"date",className:"mt-1 block w-full dark:bg-gray-700 dark:text-gray-200 dark:border-gray-600",value:a.data.date_joined,onChange:t=>a.setData("date_joined",t.target.value)}),e.jsx(s,{className:"mt-2 dark:text-red-400",message:a.errors.date_joined})]}),e.jsxs("div",{children:[e.jsx(l,{htmlFor:"payment_method",value:"Payment Method"}),e.jsx(d,{id:"payment_method",className:"mt-1 block w-full dark:bg-gray-700 dark:text-gray-200 dark:border-gray-600",value:a.data.payment_method,onChange:t=>a.setData("payment_method",t.target.value)}),e.jsx(s,{className:"mt-2 dark:text-red-400",message:a.errors.payment_method})]}),e.jsxs("div",{children:[e.jsx(l,{htmlFor:"email",value:"Email"}),e.jsx(d,{id:"email",type:"email",className:"mt-1 block w-full dark:bg-gray-700 dark:text-gray-200 dark:border-gray-600",value:a.data.email,onChange:t=>a.setData("email",t.target.value)}),e.jsx(s,{className:"mt-2 dark:text-red-400",message:a.errors.email})]}),e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx(x,{disabled:a.processing,children:"Save Details"}),e.jsx(c,{show:a.recentlySuccessful,enter:"transition ease-in-out",enterFrom:"opacity-0",leave:"transition ease-in-out",leaveTo:"opacity-0",children:e.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Saved."})})]})]})]})})]})})]})};b.layout=r=>e.jsx(k,{header:e.jsxs("div",{className:"w-full flex justify-between items-center",children:[e.jsx("h2",{className:"text-xl font-semibold leading-tight text-gray-800 dark:text-gray-200",children:"Edit User"}),e.jsx(v,{href:route("user.list"),className:"py-3 px-4 bg-gray-50 text-slate-900 rounded-md text-sm",children:"Back"})]}),children:r});export{b as default};
