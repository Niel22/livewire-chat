import{j as e,r as d,H as D,L as g}from"./app-DgysWUKN.js";import{L as j,q as p,z as b}from"./dialog-DEhxR_TC.js";import{z as N}from"./transition-E698jRxK.js";import{P as M}from"./Pagination-C0SefY6A.js";import{F as h,a as S}from"./UserGroupIcon-5GVUSiIr.js";import{T as A}from"./TextInput-ysBPdsCZ.js";import{A as L}from"./AuthenticatedLayout-Dp4_EsP8.js";import{b as $,c as z}from"./useGroupQuery-B7mRwScr.js";import{F as R}from"./EyeIcon-DkGWTAmL.js";import{F as E}from"./PencilIcon-CXTizLLR.js";import{F as I}from"./TrashIcon-BvDbbhPP.js";/* empty css            */import"./portal-Bp18U6eq.js";import"./use-server-handoff-complete-YbaoeMyU.js";import"./chatStore-Cfb37Rj8.js";import"./ApplicationLogo-BC3b-o4H.js";import"./useTranslation-D4JPGibQ.js";import"./DarkModeToggle-OTcSg6aI.js";import"./useAuthQuery-Dvludyj6.js";import"./api-D9yEnfen.js";import"./useQuery-Bdm4F9LA.js";import"./useBaseQuery-DOgIe2Ew.js";const O=({isOpen:a,closeModal:r,group:s,onConfirm:n,isLoading:c})=>s?e.jsx(N,{show:a,as:d.Fragment,children:e.jsxs(j,{as:"div",className:"fixed inset-0 z-10 flex items-center justify-center p-4",onClose:r,children:[e.jsx("div",{className:"fixed inset-0 bg-black/50 transition-opacity"}),e.jsx("div",{className:"fixed inset-0 flex items-center justify-center p-4",children:e.jsxs(p,{className:"w-full max-w-md rounded-xl bg-white dark:bg-gray-800 p-6 shadow-lg",children:[e.jsx(b,{className:"text-xl font-semibold text-gray-900 dark:text-gray-100 mb-4 text-center",children:"Delete Group"}),e.jsxs("p",{className:"text-gray-700 dark:text-gray-300 text-center mb-6",children:["Are you sure you want to delete ",e.jsx("span",{className:"font-semibold",children:s.name}),"? This action cannot be undone."]}),e.jsxs("div",{className:"flex justify-end gap-3",children:[e.jsx("button",{onClick:r,className:"px-4 py-2 bg-gray-300 dark:bg-gray-700 dark:text-gray-200 rounded-lg hover:bg-gray-400",children:"Cancel"}),e.jsx("button",{onClick:n,disabled:c,className:"px-4 py-2 bg-red-600 hover:bg-red-700 text-white rounded-lg",children:c?"Deleting Group...":"Delete"})]})]})})]})}):null,P=({isOpen:a,closeViewModal:r,group:s})=>{var n;return s?e.jsx(N,{show:a,as:d.Fragment,children:e.jsxs(j,{open:a,as:"div",className:"fixed inset-0 z-10 flex items-center justify-center p-4 bg-black/50 transition-opacity duration-300",onClose:()=>r(),children:[e.jsx("div",{className:"fixed inset-0 bg-black/50"}),e.jsx("div",{className:"fixed inset-0 flex items-center justify-center p-4",children:e.jsxs(p,{className:"w-full max-w-lg rounded-xl bg-white dark:bg-gray-800 p-6 shadow-lg",children:[e.jsxs("div",{className:"flex flex-col items-center space-y-4",children:[e.jsxs("div",{className:"avatar avatar-placeholder",children:[s.avatar&&e.jsx("div",{className:"bg-gray-400 dark:bg-gray-700 rounded-full overflow-hidden w-20 h-20 flex items-center justify-center text-gray-800 dark:text-gray-100",children:e.jsx("img",{src:"".concat(s.avatar),className:"w-full"})}),!s.avatar&&e.jsx("div",{className:"bg-gray-400 dark:bg-gray-700 rounded-full w-12 h-12 flex items-center justify-center text-gray-800 dark:text-gray-100",children:e.jsx(h,{className:"w-6 h-6"})})]}),e.jsx(b,{className:"text-xl font-semibold text-gray-900 dark:text-gray-100 mb-4",children:s.name}),s.description&&e.jsx("p",{className:"text-gray-700 dark:text-gray-300 text-center",children:s.description}),e.jsxs("div",{className:"w-full text-center space-y-1",children:[e.jsxs("p",{className:"text-gray-800 dark:text-gray-200",children:[e.jsx("span",{className:"font-semibold",children:"Admin:"})," ",((n=s.admin)==null?void 0:n.name)||"N/A"]}),e.jsxs("p",{className:"text-gray-800 dark:text-gray-200",children:[e.jsx("span",{className:"font-semibold",children:"Total Members:"})," ",s.members_count]})]})]}),e.jsx("div",{className:"mt-6 flex justify-end",children:e.jsx("button",{onClick:r,className:"px-4 py-2 bg-blue-600 hover:bg-blue-700 text-white rounded-lg",children:"Close"})})]})})]})}):null},T=()=>{const[a,r]=d.useState(1),[s,n]=d.useState(""),[c,x]=d.useState(!1),[w,o]=d.useState(!1),[m,i]=d.useState(null),{data:l,isLoading:u,refetch:v}=$({page:a,search:s}),k=t=>{i(t),x(!0)},G=()=>{i(null),x(!1)},F=t=>{i(t),o(!0)},y=()=>{i(null),o(!1)},f=z(v,y),C=()=>f.mutate({id:m.id});return d.useEffect(()=>{x(!1),o(!1),i(null)},[]),e.jsxs(e.Fragment,{children:[e.jsx(D,{title:"Groups"}),e.jsx("div",{className:"py-8",children:e.jsxs("div",{className:"mx-auto max-w-[80%] md:max-w-5xl space-y-4",children:[e.jsx(A,{id:"name",className:"mt-1 block w-full dark:bg-transparent dark:text-white dark:border-gray-600",value:s,onChange:t=>n(t.target.value),placeholder:"Search group by name...",required:!0,autoComplete:"off"}),u?[1,2,3,4].map(t=>e.jsx(q,{},t)):l.data.length>0?l.data.map(t=>e.jsx(_,{group:t,openDeleteModal:F,openViewModal:k},t.id)):e.jsx(H,{}),!u&&l.data.length>0&&e.jsx(M,{setPage:r,meta:l==null?void 0:l.meta,links:l==null?void 0:l.links})]})}),e.jsx(P,{isOpen:c,closeViewModal:G,group:m}),e.jsx(O,{isOpen:w,closeModal:y,group:m,onConfirm:C,isLoading:f.isPending})]})};T.layout=a=>e.jsx(L,{header:e.jsxs("div",{className:"w-full flex justify-between items-center",children:[e.jsx("h2",{className:"text-xl font-semibold leading-tight text-gray-800 dark:text-gray-200",children:"Groups"}),e.jsx(g,{href:route("group.create"),className:"py-3 px-4 bg-gray-50 text-slate-900 rounded-md text-sm",children:"Create Group"})]}),children:a});const _=({group:a,openDeleteModal:r,openViewModal:s})=>e.jsxs("div",{className:"border border-gray-200 dark:border-gray-700 rounded-xl p-4 flex flex-col sm:flex-row sm:items-center sm:justify-between hover:bg-gray-50 dark:hover:bg-gray-800 transition-all gap-3",children:[e.jsxs("div",{className:"flex-1 flex flex-col md:flex-row  items-center gap-2",children:[e.jsxs("div",{className:"avatar avatar-placeholder",children:[a.avatar&&e.jsx("div",{className:"bg-gray-400 dark:bg-gray-700 rounded-full overflow-hidden w-12 h-12 flex items-center justify-center text-gray-800 dark:text-gray-100",children:e.jsx("img",{src:"".concat(a.avatar),className:"w-full"})}),!a.avatar&&e.jsx("div",{className:"bg-gray-400 dark:bg-gray-700 rounded-full w-12 h-12 flex items-center justify-center text-gray-800 dark:text-gray-100",children:e.jsx(h,{className:"w-6 h-6"})})]}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-base truncate font-semibold text-gray-800 dark:text-gray-100",children:a.name}),e.jsxs("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:[a.members_count," members"]})]})]}),e.jsxs("p",{className:"text-sm text-center text-gray-600 dark:text-gray-300",children:["Admin:"," ",e.jsx("span",{className:"font-medium text-gray-800 dark:text-gray-100",children:a.admin.name})]}),e.jsxs("div",{className:"flex flex-wrap gap-2 text-sm justify-center",children:[e.jsx("button",{onClick:()=>s(a),className:"px-3 py-1 bg-blue-600 text-white rounded hover:bg-blue-700",children:e.jsx(R,{className:"w-4 h-4"})}),e.jsx(g,{href:route("group.edit",a),className:"px-3 py-1 bg-green-600 text-white rounded hover:bg-green-700",children:e.jsx(E,{className:"w-4 h-4"})}),e.jsx("button",{onClick:()=>r(a),className:"px-3 py-1 bg-red-600 text-white rounded hover:bg-red-700",children:e.jsx(I,{className:"w-4 h-4"})}),e.jsx(g,{href:route("group.member.add",a),className:"px-3 py-1 bg-yellow-500 text-white rounded hover:bg-yellow-600",children:e.jsx(S,{className:"w-4 h-4"})})]})]}),q=()=>e.jsxs("div",{className:"border border-gray-200 dark:border-gray-700 rounded-xl p-4 flex flex-col sm:flex-row sm:items-center sm:justify-between gap-3 animate-pulse",children:[e.jsxs("div",{className:"flex-1 flex flex-col md:flex-row items-center gap-2",children:[e.jsx("div",{className:"w-12 h-12 rounded-full bg-gray-300 dark:bg-gray-700"}),e.jsxs("div",{className:"space-y-2 w-full md:w-40",children:[e.jsx("div",{className:"h-4 bg-gray-300 dark:bg-gray-700 rounded w-3/4"}),e.jsx("div",{className:"h-3 bg-gray-200 dark:bg-gray-600 rounded w-1/2"})]})]}),e.jsx("div",{className:"w-40 h-4 bg-gray-300 dark:bg-gray-700 rounded"}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx("div",{className:"w-8 h-8 bg-gray-300 dark:bg-gray-700 rounded"}),e.jsx("div",{className:"w-8 h-8 bg-gray-300 dark:bg-gray-700 rounded"}),e.jsx("div",{className:"w-8 h-8 bg-gray-300 dark:bg-gray-700 rounded"}),e.jsx("div",{className:"w-8 h-8 bg-gray-300 dark:bg-gray-700 rounded"})]})]}),H=()=>e.jsxs("div",{className:"flex flex-col items-center justify-center py-20 text-center",children:[e.jsx("div",{className:"bg-gray-100 dark:bg-gray-800 p-6 rounded-full mb-4",children:e.jsx(h,{className:"w-12 h-12 text-gray-400 dark:text-gray-500"})}),e.jsx("h2",{className:"text-lg font-semibold text-gray-800 dark:text-gray-100",children:"No Groups Found"}),e.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400 mt-1",children:"You havenâ€™t created or joined any groups yet."})]});export{T as default};
